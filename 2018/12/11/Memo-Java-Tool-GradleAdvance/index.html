<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Gradle进阶 | Kuangcp Blog | Javaer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Gradle">
    <meta name="description" content="目录 start  Gradle进阶知识 Gradle 使用和配置 主配置目录   Gradle 构建块 task task的依赖关系 终结器 task Groovy的POGO类管理配置文件上的版本号 task 的inputs 和 outputs 编写和使用自定义task 声明task规则     增量式构建特性   测试模块 单元测试 使用JUnit 使用其他框架 TestNG Spock">
<meta name="keywords" content="Gradle">
<meta property="og:type" content="article">
<meta property="og:title" content="Gradle进阶">
<meta property="og:url" content="http://blog.kuangcp.top/2018/12/11/Memo-Java-Tool-GradleAdvance/index.html">
<meta property="og:site_name" content="Kuangcp Blog">
<meta property="og:description" content="目录 start  Gradle进阶知识 Gradle 使用和配置 主配置目录   Gradle 构建块 task task的依赖关系 终结器 task Groovy的POGO类管理配置文件上的版本号 task 的inputs 和 outputs 编写和使用自定义task 声明task规则     增量式构建特性   测试模块 单元测试 使用JUnit 使用其他框架 TestNG Spock">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-12-21T03:02:53.346Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Gradle进阶">
<meta name="twitter:description" content="目录 start  Gradle进阶知识 Gradle 使用和配置 主配置目录   Gradle 构建块 task task的依赖关系 终结器 task Groovy的POGO类管理配置文件上的版本号 task 的inputs 和 outputs 编写和使用自定义task 声明task规则     增量式构建特性   测试模块 单元测试 使用JUnit 使用其他框架 TestNG Spock">
    
        <link rel="alternate" type="application/atom+xml" title="Kuangcp Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Kuangcp</h5>
          <a href="mailto:kuangcp@aliyun.com" title="kuangcp@aliyun.com" class="mail">kuangcp@aliyun.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/">
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives">
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags">
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories">
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/kuangcp" target="_blank">
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Gradle进阶</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Gradle进阶</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-12-11T13:29:29.000Z" itemprop="datePublished" class="page-time">
  2018-12-11
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Java/">Java</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Gradle进阶知识"><span class="post-toc-number">1.</span> <span class="post-toc-text">Gradle进阶知识</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Gradle-使用和配置"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">Gradle 使用和配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#主配置目录"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">主配置目录</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Gradle-构建块"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">Gradle 构建块</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#task"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">task</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#task的依赖关系"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">task的依赖关系</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#终结器-task"><span class="post-toc-number">1.3.2.</span> <span class="post-toc-text">终结器 task</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Groovy的POGO类管理配置文件上的版本号"><span class="post-toc-number">1.3.3.</span> <span class="post-toc-text">Groovy的POGO类管理配置文件上的版本号</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#task-的inputs-和-outputs"><span class="post-toc-number">1.3.4.</span> <span class="post-toc-text">task 的inputs 和 outputs</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#编写和使用自定义task"><span class="post-toc-number">1.3.5.</span> <span class="post-toc-text">编写和使用自定义task</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#声明task规则"><span class="post-toc-number">1.3.5.1.</span> <span class="post-toc-text">声明task规则</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#增量式构建特性"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">增量式构建特性</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#测试模块"><span class="post-toc-number">2.</span> <span class="post-toc-text">测试模块</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#单元测试"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">单元测试</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用JUnit"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">使用JUnit</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用其他框架-TestNG-Spock"><span class="post-toc-number">2.1.2.</span> <span class="post-toc-text">使用其他框架 TestNG Spock</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#配置测试执行"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">配置测试执行</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#多语言编程"><span class="post-toc-number">3.</span> <span class="post-toc-text">多语言编程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#处理javascript"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">处理javascript</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#压缩javascript"><span class="post-toc-number">3.1.1.</span> <span class="post-toc-text">压缩javascript</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Java-和-Groovy的联合编译"><span class="post-toc-number">3.1.2.</span> <span class="post-toc-text">Java 和 Groovy的联合编译</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Java-和-Scala"><span class="post-toc-number">3.1.3.</span> <span class="post-toc-text">Java 和 Scala</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Jenkin-使用"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">Jenkin 使用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#下载安装和配置"><span class="post-toc-number">3.2.1.</span> <span class="post-toc-text">下载安装和配置</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#发布自己的构件"><span class="post-toc-number">4.</span> <span class="post-toc-text">发布自己的构件</span></a></li></ol>
        </nav>
    </aside>


<article id="post-Memo-Java-Tool-GradleAdvance" class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Gradle进阶</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-12-11 21:29:29" datetime="2018-12-11T13:29:29.000Z" itemprop="datePublished">2018-12-11</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Java/">Java</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none">
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p><strong>目录 start</strong></p>
<ol>
<li><a href="#gradle进阶知识">Gradle进阶知识</a><ol>
<li><a href="#gradle-使用和配置">Gradle 使用和配置</a><ol>
<li><a href="#主配置目录">主配置目录</a></li>
</ol>
</li>
<li><a href="#gradle-构建块">Gradle 构建块</a></li>
<li><a href="#task">task</a><ol>
<li><a href="#task的依赖关系">task的依赖关系</a></li>
<li><a href="#终结器-task">终结器 task</a></li>
<li><a href="#groovy的pogo类管理配置文件上的版本号">Groovy的POGO类管理配置文件上的版本号</a></li>
<li><a href="#task-的inputs-和-outputs">task 的inputs 和 outputs</a></li>
<li><a href="#编写和使用自定义task">编写和使用自定义task</a><ol>
<li><a href="#声明task规则">声明task规则</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#增量式构建特性">增量式构建特性</a></li>
</ol>
</li>
<li><a href="#测试模块">测试模块</a><ol>
<li><a href="#单元测试">单元测试</a><ol>
<li><a href="#使用junit">使用JUnit</a></li>
<li><a href="#使用其他框架-testng-spock">使用其他框架 TestNG Spock</a></li>
</ol>
</li>
<li><a href="#配置测试执行">配置测试执行</a></li>
</ol>
</li>
<li><a href="#多语言编程">多语言编程</a><ol>
<li><a href="#处理javascript">处理javascript</a><ol>
<li><a href="#压缩javascript">压缩javascript</a></li>
<li><a href="#java-和-groovy的联合编译">Java 和 Groovy的联合编译</a></li>
<li><a href="#java-和-scala">Java 和 Scala</a></li>
</ol>
</li>
<li><a href="#jenkin-使用">Jenkin 使用</a><ol>
<li><a href="#下载安装和配置">下载安装和配置</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#发布自己的构件">发布自己的构件</a></li>
</ol>
<p><strong>目录 end</strong>|<em>2018-12-13 12:06</em>| <a href="https://gitee.com/gin9" target="_blank" rel="noopener">码云</a> | <a href="http://blog.csdn.net/kcp606" target="_blank" rel="noopener">CSDN</a> | <a href="https://my.oschina.net/kcp1104" target="_blank" rel="noopener">OSChina</a> | <a href="http://www.cnblogs.com/kuangcp" target="_blank" rel="noopener">cnblogs</a></p>
<hr>
<h1 id="Gradle进阶知识"><a href="#Gradle进阶知识" class="headerlink" title="Gradle进阶知识"></a>Gradle进阶知识</h1><blockquote>
<p><a href="https://docs.gradle.org/4.9/dsl/org.gradle.api.Project.html" target="_blank" rel="noopener">gradle api </a> <code>所有{}结构 以及配置</code></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/davenkin/gradle-learning" target="_blank" rel="noopener">davenkin的学习仓库</a><br><a href="https://github.com/Kuangcp/LearnGradle" target="_blank" rel="noopener">个人学习Gradle的记录仓库</a></p>
</blockquote>
<h2 id="Gradle-使用和配置"><a href="#Gradle-使用和配置" class="headerlink" title="Gradle 使用和配置"></a>Gradle 使用和配置</h2><h3 id="主配置目录"><a href="#主配置目录" class="headerlink" title="主配置目录"></a>主配置目录</h3><blockquote>
<p>~/.gradle</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">├── caches</span><br><span class="line">│   ├── 4.8</span><br><span class="line">│   ├── 4.9</span><br><span class="line">│   ├── jars-3</span><br><span class="line">│   ├── modules-2</span><br><span class="line">│   │   ├── files-2.1 依赖的Jar 缓存目录</span><br><span class="line">│   │   ├── metadata-2.58</span><br><span class="line">│   │   └── modules-2.lock</span><br><span class="line">│   └── transforms-1</span><br><span class="line">├── daemon</span><br><span class="line">│   ├── 4.8</span><br><span class="line">│   └── 4.9</span><br><span class="line">├── native</span><br><span class="line">│   ├── 25</span><br><span class="line">│   └── jansi</span><br><span class="line">├── notifications</span><br><span class="line">│   ├── 4.8</span><br><span class="line">│   └── 4.9</span><br><span class="line">└── workers</span><br></pre></td></tr></table></figure>
<blockquote>
<p>~/.gradle/caches/modules-2/files-2.1 等价于Maven的 ~/.m2/repository 目录<br>不得不说, 这个目录很丑, 字母加字符短杠..强迫症很难受</p>
</blockquote>
<ul>
<li>那么问题来了, 以前一直以为是和Maven共用一个仓库<ul>
<li>他和Maven本地仓库没有半毛钱关系, 他只是去复制了一下而已! <a href="https://blog.csdn.net/kcp606/article/details/81636426" target="_blank" rel="noopener">详情</a></li>
</ul>
</li>
</ul>
<h2 id="Gradle-构建块"><a href="#Gradle-构建块" class="headerlink" title="Gradle 构建块"></a>Gradle 构建块</h2><ul>
<li>三个基本块 project task property， 使用DDD（领域驱动设计）</li>
<li>一个真实的项目包含多个project 而 Project又包含多个task ，task之间通过依赖来确保执行顺序</li>
<li>build.gradle 和 pom.xml 作用是一致的，但是gradle可以使用一份源码 构建出多种想要的目标程序</li>
</ul>
<h2 id="task"><a href="#task" class="headerlink" title="task"></a>task</h2><ul>
<li><a href="https://docs.gradle.org/current/dsl/org.gradle.api.Task.html" target="_blank" rel="noopener">doc:task</a></li>
</ul>
<h3 id="task的依赖关系"><a href="#task的依赖关系" class="headerlink" title="task的依赖关系"></a>task的依赖关系</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  version = <span class="string">'0.1-SNAPSHOT'</span></span><br><span class="line">  task first &#123;</span><br><span class="line">  	println <span class="string">'First Run !'</span></span><br><span class="line">  &#125;</span><br><span class="line">  task second &#123;</span><br><span class="line">  	println <span class="string">'Second Run !'</span></span><br><span class="line">  &#125;</span><br><span class="line">  task printVersion (<span class="string">dependsOn:</span>[second,first])&#123;</span><br><span class="line">  	doLast &#123;</span><br><span class="line">  		println <span class="string">"Version : $version"</span></span><br><span class="line">  		logger.quiet <span class="string">"Version : $version"</span></span><br><span class="line">  	&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  task third &lt;&lt;&#123;</span><br><span class="line">println <span class="string">'Third Run!'</span></span><br><span class="line">  &#125;</span><br><span class="line">  third.dependsOn(<span class="string">'printVersion'</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>如果把second的定义放在First前面，就会先运行second</li>
<li>这个例子就说明了，被依赖方的运行，不是按照声明的顺序，而是定义的顺序<ul>
<li>（因为依赖是只要被依赖方执行即可，和顺序关系不是很大）</li>
</ul>
</li>
<li>还可以使用SLF4J的logger实现<ul>
<li>日志级别 DEBUG,ERROR,INFO,TRACE,WARN ,还有QUIET…</li>
</ul>
</li>
<li>如果 是 <code>gradle -b tasksL.gradle -q third</code> 就会运行所有的task，因为这是最后一层依赖<ul>
<li>如果 是<code>gradle -b tasksL.gradle -q printVersion</code> 就会只运行 printVersion 如果整个文件有编译错误也是不运行的</li>
</ul>
</li>
</ul>
<h3 id="终结器-task"><a href="#终结器-task" class="headerlink" title="终结器 task"></a>终结器 task</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">task f&lt;&lt;&#123;println <span class="string">'first'</span>&#125;</span><br><span class="line">task s&lt;&lt;&#123;println <span class="string">'second'</span>&#125;</span><br><span class="line">f.finalizedBy s</span><br><span class="line"><span class="comment">//当运行 gradle f 就会自动触发 s</span></span><br><span class="line"><span class="comment">//如果gradle s 就和f没有任何关系了</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Groovy的POGO类管理配置文件上的版本号"><a href="#Groovy的POGO类管理配置文件上的版本号" class="headerlink" title="Groovy的POGO类管理配置文件上的版本号"></a>Groovy的POGO类管理配置文件上的版本号</h3><ul>
<li><a href="https://github.com/Kuangcp/LearnGradle/blob/master/demo/tasksL.gradle" target="_blank" rel="noopener">taskL.gradle</a></li>
<li>gradle -b tasksL.gradle -q printVersion</li>
<li>虽然只是 运行了这个task 但是读取文件的task也被自动调用了</li>
<li>因为Gradle的构建生命周期阶段如下: 初始化、配置和执行 读取文件就属于配置阶段<ul>
<li><strong>注意</strong> : 项目的每一次构建都会运行属于配置阶段的代码，即使你只是运行了 gradle tasks</li>
</ul>
</li>
</ul>
<h3 id="task-的inputs-和-outputs"><a href="#task-的inputs-和-outputs" class="headerlink" title="task 的inputs 和 outputs"></a>task 的inputs 和 outputs</h3><ul>
<li>流程 : inputs -&gt; |task| -&gt; outputs</li>
<li>gradle通过比较两个task的inputs和outputs来决定task是否最新<ul>
<li>如果inputs和outputs没有改变 就不会执行该task</li>
<li>输入和输出可以是，一个文件，多个文件，一个目录，一个property属性</li>
</ul>
</li>
<li><a href="https://github.com/Kuangcp/LearnGradle/blob/master/demo/turnVersion.gradle" target="_blank" rel="noopener">示例代码:turnVersion.gradle</a><ul>
<li>makeRealeseVersion : 将一个项目的版本切换为发布版本 </li>
<li>IOReleaseVersion : 通过inputs/outputs来添加增量式构建支持 <ul>
<li>发现并不能得到书上的预期效果，书上是说改动了properties文件才会让这个task运行，没有改就会说 up-to-date</li>
<li>但是实际得到的是，改动了properties或者是构建文件都会引起task运行，两者都不改动就不会运行task，而且不会有输出提示up-to-date，要自己手动logger</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="编写和使用自定义task"><a href="#编写和使用自定义task" class="headerlink" title="编写和使用自定义task"></a>编写和使用自定义task</h3><ul>
<li><p>自定义task包含两个组件：</p>
<ul>
<li>自定义的task类，封装了逻辑行为，也被称为任务类型</li>
<li>真实的task 提供了用于配置行为的task类所暴露的属性值</li>
</ul>
</li>
<li><p>这个task就是做到了改配置文件，确保是RELEASE版本</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//先要实例化version属性对象的存在</span></span><br><span class="line">   version = <span class="keyword">new</span> ProjectVersion(<span class="number">0</span>,<span class="number">1</span>,<span class="literal">true</span>)</span><br><span class="line">   <span class="comment">//继承DefaultTask类型的自定义task类</span></span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">ReleaseVersionTask</span> <span class="keyword">extends</span> <span class="title">DefaultTask</span>&#123;</span></span><br><span class="line">    <span class="meta">@Input</span> Boolean release</span><br><span class="line">    <span class="meta">@OutputFile</span> File destFile</span><br><span class="line">    ReleaseVersionTask()&#123;</span><br><span class="line">        group = <span class="string">'versioning'</span></span><br><span class="line">        description = <span class="string">'Make Project a release version'</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//task的行为逻辑</span></span><br><span class="line">    <span class="meta">@TaskAction</span></span><br><span class="line">    <span class="keyword">void</span> start ()&#123;</span><br><span class="line">        project.version.release = <span class="literal">true</span>;</span><br><span class="line">        ant.propertyfile(<span class="string">file:</span>destFile)&#123;</span><br><span class="line">            entry(<span class="string">key:</span><span class="string">'release'</span>,<span class="string">type:</span><span class="string">'string'</span>,<span class="string">operation:</span><span class="string">'='</span>,<span class="string">value:</span><span class="string">'true'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        println <span class="string">"$project.version"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//version的POGO类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProjectVersion</span>&#123;</span></span><br><span class="line">    Integer major</span><br><span class="line">	Integer minor</span><br><span class="line">    Boolean release</span><br><span class="line">    ProjectVersion (Integer major ,Integer minor)&#123;</span><br><span class="line">		<span class="keyword">this</span>.major = major</span><br><span class="line">		<span class="keyword">this</span>.minor = minor</span><br><span class="line">	&#125;</span><br><span class="line">    ProjectVersion (Integer major ,Integer minor,Boolean release)&#123;</span><br><span class="line">		<span class="keyword">this</span>(major,minor)</span><br><span class="line">		<span class="keyword">this</span>.release = release</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    String toString()&#123;</span><br><span class="line">        <span class="string">"$major.$minor$&#123;release?'-RELEASE':'-SNAPSHOT'&#125;"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//真实的task，用来操作自定义类暴露的几个属性</span></span><br><span class="line"><span class="comment">//使用命令来运行，本质是运行真实的task但是行为逻辑在自定义类中编写</span></span><br><span class="line"><span class="comment">//gradle -b UserDefineTask.gradle -q makeReleaseVersion</span></span><br><span class="line"><span class="comment">//如果要改动一些数据可以直接更改暴露的task而不用去改自定义的task类</span></span><br><span class="line">task makeReleaseVersion(<span class="string">type:</span>ReleaseVersionTask)&#123;</span><br><span class="line">    release = <span class="string">'true'</span></span><br><span class="line">    destFile = file(<span class="string">'version.properties'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="声明task规则"><a href="#声明task规则" class="headerlink" title="声明task规则"></a>声明task规则</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">//All used property must define and initial first</span></span><br><span class="line">   version = <span class="keyword">new</span> ProjectVersion(<span class="number">0</span>,<span class="number">1</span>,<span class="literal">true</span>)</span><br><span class="line">   ext.versionFile = file(<span class="string">'version.properties'</span>)</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">ProjectVersion</span>&#123;</span></span><br><span class="line">       Integer major</span><br><span class="line">   	Integer minor</span><br><span class="line">       Boolean release</span><br><span class="line">       ProjectVersion (Integer major ,Integer minor)&#123;</span><br><span class="line">   		<span class="keyword">this</span>.major = major</span><br><span class="line">   		<span class="keyword">this</span>.minor = minor</span><br><span class="line">   	&#125;</span><br><span class="line">       ProjectVersion (Integer major ,Integer minor,Boolean release)&#123;</span><br><span class="line">   		<span class="keyword">this</span>(major,minor)</span><br><span class="line">   		<span class="keyword">this</span>.release = release</span><br><span class="line">   	&#125;</span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       String toString()&#123;</span><br><span class="line">           <span class="string">"$major.$minor$&#123;release?'-RELEASE':'-SNAPSHOT'&#125;"</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// task规则的定义</span></span><br><span class="line">   tasks.addRule(<span class="string">"Pattern: increment&lt;Classifier&gt;Version - Increment the project version classifier."</span> )&#123;</span><br><span class="line">   <span class="comment">//根据预定义模式来检查task的名称</span></span><br><span class="line">    String taskName -&gt; <span class="keyword">if</span>(taskName.startsWith(<span class="string">'increment'</span>) &amp;&amp; taskName.endsWith(<span class="string">'Version'</span>))&#123;</span><br><span class="line">        <span class="comment">//根据符合命名模式的task动态添加一个doLast的方法</span></span><br><span class="line">        task(taskName)&lt;&lt;&#123;</span><br><span class="line">         <span class="comment">//从完整的task名称中提取类型字符串，</span></span><br><span class="line">         <span class="comment">//字面意思是将字符串中increment和Version两个串去除掉然后转小写再赋值</span></span><br><span class="line">            String classifier = (taskName - <span class="string">'increment'</span> - <span class="string">'Version'</span>).toLowerCase()</span><br><span class="line">            String currentVersion = version.toString()</span><br><span class="line">            <span class="keyword">switch</span> (classifier)&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'major'</span>:++version.major</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">'minor'</span>:++version.minor</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="string">default :</span> <span class="keyword">throw</span> <span class="keyword">new</span> GradleException(<span class="string">"Invalid version type '$classifier' . Allow types :['Major','Minor']"</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            String newVersion = version.toString()</span><br><span class="line">            logger.info <span class="string">"Increment $classifier project version: $currentVersion -&gt; $newVersion"</span></span><br><span class="line">            ant.propertyfile(<span class="string">file:</span>versionFile)&#123;</span><br><span class="line">                entry(<span class="string">key:</span>classifier,<span class="string">type:</span><span class="string">'int'</span>,<span class="string">operation:</span><span class="string">'+'</span>,<span class="string">value:</span><span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>运行 <code>gradle -b RulesTask.gradle -q incrementMinorVersion</code>就可以增加版本号了，就是一个动态的执行命令的机制<ul>
<li>使用 incrementMajorVersion就可以增加主版本号</li>
</ul>
</li>
<li>如果运行 <code>gradle -b RulesTask.gradle -q tasks</code> 就会得到一个具体的tasks的组Rules</li>
</ul>
<h2 id="增量式构建特性"><a href="#增量式构建特性" class="headerlink" title="增量式构建特性"></a>增量式构建特性</h2><ul>
<li>如果Java源文件与最后一次运行的构建不同的话，运行 <code>compileJava task</code> 将充分提高构建的性能</li>
</ul>
<hr>
<h1 id="测试模块"><a href="#测试模块" class="headerlink" title="测试模块"></a>测试模块</h1><blockquote>
<p>凡是依赖于本地环境的测试，使用完就注释Test注解，还有那些会CRUD，影响到数据的测试方法也是<br>以防以后线上测试通不过 打包失败, </p>
</blockquote>
<ul>
<li>跳过测试 <code>gradle build -x test</code> 或者是 <code>--exclude-task test</code> 参数 </li>
</ul>
<h2 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h2><h3 id="使用JUnit"><a href="#使用JUnit" class="headerlink" title="使用JUnit"></a>使用JUnit</h3><blockquote>
<p><a href="/MyBlog/how-to-use-junit.md">使用Junit4</a></p>
</blockquote>
<h3 id="使用其他框架-TestNG-Spock"><a href="#使用其他框架-TestNG-Spock" class="headerlink" title="使用其他框架 TestNG Spock"></a>使用其他框架 TestNG Spock</h3><h2 id="配置测试执行"><a href="#配置测试执行" class="headerlink" title="配置测试执行"></a>配置测试执行</h2><hr>
<hr>
<h1 id="多语言编程"><a href="#多语言编程" class="headerlink" title="多语言编程"></a>多语言编程</h1><h2 id="处理javascript"><a href="#处理javascript" class="headerlink" title="处理javascript"></a>处理javascript</h2><h3 id="压缩javascript"><a href="#压缩javascript" class="headerlink" title="压缩javascript"></a>压缩javascript</h3><ul>
<li>调用Google Closure Compiler 的task 来压缩javascript文件 将所有的javascript压缩成一个javascript文件</li>
<li>执行该task  gradle :web :taskname</li>
<li>执行之后就能得到一个优化的js文件，现在就要在页面中修改原来的js引用</li>
</ul>
<h3 id="Java-和-Groovy的联合编译"><a href="#Java-和-Groovy的联合编译" class="headerlink" title="Java 和 Groovy的联合编译"></a>Java 和 Groovy的联合编译</h3><ul>
<li>src 下 main 下 java 和groovy 的一个目录结构，直接编译就会发生Java无法依赖groovy的类</li>
<li>错误：需要配置 <code>sourceSets.main.java.srcDirs=[]</code> <code>sourceSets.main.groovy.srcDirs=[&#39;src/main/java&#39;,&#39;src/main/groovy&#39;]</code><ul>
<li>正确： <code>sourceSets.main.java.srcDirs=[&#39;src/main/java&#39;,&#39;src/main/groovy&#39;]</code> 上面的会报错</li>
</ul>
</li>
<li>配置好后就能把groovy当普通Java类直接使用了</li>
</ul>
<hr>
<h3 id="Java-和-Scala"><a href="#Java-和-Scala" class="headerlink" title="Java 和 Scala"></a>Java 和 Scala</h3><ul>
<li>联合双向编译 Java和scala</li>
<li><code>sourceSets.main.scala.srcDirs</code> <code>sourceSets.main.groovy.srcDirs=[&#39;src/main/java&#39;,&#39;src/main/scala&#39;]</code></li>
<li>那么问题来了，如果是有了java groovy scala 呢怎么配置编译，直接就加上就好了嘛？</li>
</ul>
<h2 id="Jenkin-使用"><a href="#Jenkin-使用" class="headerlink" title="Jenkin 使用"></a>Jenkin 使用</h2><h3 id="下载安装和配置"><a href="#下载安装和配置" class="headerlink" title="下载安装和配置"></a>下载安装和配置</h3><ul>
<li>官网下载war包后，直接使用Java命令运行 或者放在web容器中运行</li>
<li>配置下载插件（位置在C盘用户目录下， 其实第一次运行后也是会解压在.jenkin 目录下 插件就在plugin目录下）</li>
<li></li>
</ul>
<h1 id="发布自己的构件"><a href="#发布自己的构件" class="headerlink" title="发布自己的构件"></a>发布自己的构件</h1><p><a href="https://lambeta.com/2017/09/15/release-jar-to-maven-central-repository/" target="_blank" rel="noopener">如何发布Jar包到Maven Central Repository </a></p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2018-12-21T03:02:53.346Z" itemprop="dateUpdated">2018-12-21 11:02:53</time>
</span><br>


        
        当前：<a href="/2018/12/11/Memo-Java-Tool-GradleAdvance/" target="_blank" rel="external">http://blog.kuangcp.top/2018/12/11/Memo-Java-Tool-GradleAdvance/</a>
        
    </div>
    
    <footer>
        <a href="http://blog.kuangcp.top">
            <img src="/img/avatar.jpg" alt="Kuangcp">
            Kuangcp
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Gradle/">Gradle</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.kuangcp.top/2018/12/11/Memo-Java-Tool-GradleAdvance/&title=《Gradle进阶》 — Kuangcp Blog&pic=http://blog.kuangcp.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.kuangcp.top/2018/12/11/Memo-Java-Tool-GradleAdvance/&title=《Gradle进阶》 — Kuangcp Blog&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.kuangcp.top/2018/12/11/Memo-Java-Tool-GradleAdvance/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Gradle进阶》 — Kuangcp Blog&url=http://blog.kuangcp.top/2018/12/11/Memo-Java-Tool-GradleAdvance/&via=http://blog.kuangcp.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.kuangcp.top/2018/12/11/Memo-Java-Tool-GradleAdvance/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2018/12/12/Memo-Java-Tool-Gradle/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Gradle</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2018/11/21/Memo-Java-Ecosystem-Vertx/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Vertx.md</h4>
      </a>
    </div>
  
</nav>



    

















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/wechat.png" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style="display:none">
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style="display:none">
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Kuangcp &copy; 2015 - 2018</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">赣ICP备17014189号-1</a><br>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.kuangcp.top/2018/12/11/Memo-Java-Tool-GradleAdvance/&title=《Gradle进阶》 — Kuangcp Blog&pic=http://blog.kuangcp.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.kuangcp.top/2018/12/11/Memo-Java-Tool-GradleAdvance/&title=《Gradle进阶》 — Kuangcp Blog&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.kuangcp.top/2018/12/11/Memo-Java-Tool-GradleAdvance/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Gradle进阶》 — Kuangcp Blog&url=http://blog.kuangcp.top/2018/12/11/Memo-Java-Tool-GradleAdvance/&via=http://blog.kuangcp.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.kuangcp.top/2018/12/11/Memo-Java-Tool-GradleAdvance/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACs0lEQVR42u3aO24DMQwFQN//0g6QKo2VR1IMNsCoMjb70agQGVKvVzze3+Pn759Xzvd/uvLpqfN4bQw8PDy81tTPrzvzzlfO1E9/TeYTLQEeHh7eGi8JBr2AcV6s5Iu9N+Dh4eE9gZcn0zk1Xyw8PDy8/8g7p7O9skXyLTw8PLxn8vJ//jdqp3lhYrHWgoeHh7fQRXrO7/X+Hh4eHt6gVd/b3KtpdK8Z9ssM8fDw8BZ4vXR5nuyeSwl5mTgKGHh4eHgLvGS6SYKbFAXmRYrmQQc8PDy8S7xJ+ptvytXjAnmyfi2ZxsPDwyvyqmlu0hjrXamWbqP/FfDw8PDWeJNQMUmm80CShwo8PDy8PV5vLz1PsVdKmBSO8yXGw8PDu8WrTr16PDQPFUngKX8LDw8Pb4GXp8vzZDoPHoVjVb0Ig4eHhzfgTY5JTcoNd5cYDw8P7294+XafBIN3a0wW+pfSCR4eHt4aL2+DzafeK/U2Qw4eHh7eGi/Z7vMPz48CVJf44/14eHh4a7w8MOSFgPnUe8WLUUqNh4eHF3fq81Q4b24lbao8CI0OGeDh4eFd5eXtrl4I6U3uVpMMDw8Pb4OXP5YkynnJdV4IztN3PDw8vA1evr0mIaR6Z6+gXGiM4eHh4S3wkiT4bkliXqid3IOHh4d3l1dozLeQeVFj1PSqPoCHh4dX5CUTmhwpyN+T3FktjuDh4eFt85LP9+7JF7GaahfaXXh4eHhj3rs4RhWOVttstFh4eHh4C7xe8Egml7fHesewese/8PDw8G7x8k25+lT1OMJkEQtNLzw8PLxLvGowqJYkqm2zSeUBDw8P75m8alGgl9Hnb8PDw8N7Ji9v2/eKrZPjBYWjA3h4eHiXeNVtPW+MTVpco7YWHh4e3hpv0uyfB4lkofMSxoX+Hh4eHt7pnV8zHw0BLYOlFAAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
